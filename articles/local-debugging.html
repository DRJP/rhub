<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Local Linux checks with Docker • rhub</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Local Linux checks with Docker">
<meta property="og:description" content="rhub">
<meta property="og:image" content="https://r-hub.github.io/rhub/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rhub</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/rhub.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/local-debugging.html">Local Linux checks with Docker</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-hub/rhub/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Local Linux checks with Docker</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-hub/rhub/blob/HEAD/vignettes/local-debugging.Rmd" class="external-link"><code>vignettes/local-debugging.Rmd</code></a></small>
      <div class="hidden name"><code>local-debugging.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-hub/rhub" class="external-link">rhub</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Scenario: there’s a bug in the check results of your package on a CRAN Linux platform, or you saw such a bug even before CRAN submission, by building your package on a R-hub Linux platform. How can you reproduce and fix the bug? Submitting to the R-hub platform (<a href="https://docs.r-hub.io/#rhub-cran-platforms" class="external-link">or the R-hub platform that’s closest to the CRAN platform</a>) after each tweak of your code would have a high turnaround so is not optimal for debugging. R-hub’s Linux Docker images are available for you to use, so you can run the R-hub Linux builders locally.</p>
<p><strong>Warning: at the moment, the functions are not tested on Windows! Bug reports are welcome :-)</strong></p>
</div>
<div class="section level2">
<h2 id="install-and-get-to-know-docker">Install and get to know Docker<a class="anchor" aria-label="anchor" href="#install-and-get-to-know-docker"></a>
</h2>
<p>To be able to use the feature, you will need to install Docker. Please refer to <a href="https://docs.docker.com/install/" class="external-link">Docker docs</a>. On Windows, installation might be trickier, check that your machine <a href="https://docs.docker.com/docker-for-windows/install/#what-to-know-before-you-install" class="external-link">meets the system requirements</a>. On Linux, make sure to <a href="https://docs.docker.com/install/linux/linux-postinstall/" class="external-link">run the post-installation steps</a> to make the <code>docker</code> command available to your user without the <code>sudo</code> prefix.</p>
<p>If you are new to Docker, for the basic use shown in the next two sections you don’t need to learn anything, you won’t have to leave R. Nonetheless, if you’re curious, this tutorial <a href="https://jsta.github.io/r-docker-tutorial/01-what-and-why.html" class="external-link">features a nice introduction</a>. Also see <a href="https://colinfay.me/docker-r-reproducibility/" class="external-link">this blog post</a> and the list of resources it shows at the end.</p>
</div>
<div class="section level2">
<h2 id="list-r-hub-linux-images">List R-hub Linux images<a class="anchor" aria-label="anchor" href="#list-r-hub-linux-images"></a>
</h2>
<p>Each of R-hub Linux platforms is associated to a Docker image, whose Dockerfile is stored in the <a href="https://github.com/r-hub/rhub-linux-builders#rhub-linux-builders" class="external-link">r-hub/rhub-linux-builders repository</a>, and that is built and available on Docker Hub. Note, if you’re used to using Docker images outside of R, you might want to just refer to the information in <a href="https://github.com/r-hub/rhub-linux-builders#rhub-linux-builders" class="external-link">R-hub Linux Docker images GitHub repository</a> (including links to the built images on Docker Hub). The advantage of using the rhub package instead of Docker directly, is that the package will install the system requirements properly.</p>
<p>To list the available images from R, you can use the <code><a href="../reference/local_check_linux_images.html">local_check_linux_images()</a></code> function that returns a <code>data.frame</code> and has a pretty default printing.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/local_check_linux_images.html">local_check_linux_images</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">imgs</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/debian-clang-devel</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-devel, clang, ISO-8859-15 locale</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/debian-gcc-devel</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-devel, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/debian-gcc-devel-nold</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-devel, GCC, no long double</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/debian-gcc-patched</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-patched, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/debian-gcc-release</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-release, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/fedora-clang-devel</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Fedora Linux, R-devel, clang, gfortran</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/fedora-gcc-devel</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Fedora Linux, R-devel, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/rocker-gcc-san</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Debian Linux, R-devel, GCC ASAN/UBSAN</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/ubuntu-gcc-devel</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Ubuntu Linux 20.04.1 LTS, R-devel, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/ubuntu-gcc-release</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Ubuntu Linux 20.04.1 LTS, R-release, GCC</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">rhub/ubuntu-rchk</span>:</span></span>
<span><span class="co">#&gt;   <span style="color: #00BB00;">Ubuntu Linux 20.04.1 LTS, R-devel with rchk</span></span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">imgs</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="14%">
<col width="10%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="7%">
<col width="13%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="3%">
<col width="1%">
<col width="4%">
<col width="4%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">cran-name</th>
<th align="left">rversion</th>
<th align="left">os-type</th>
<th align="left">cpu-type</th>
<th align="left">os-info</th>
<th align="left">compilers</th>
<th align="left">docker-image</th>
<th align="left">sysreqs-platform</th>
<th align="left">categories</th>
<th align="left">node-labels</th>
<th align="left">queue</th>
<th align="left">output-parser</th>
<th align="left">macos-version</th>
<th align="left">params</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">debian-clang-devel</td>
<td align="left">Debian Linux, R-devel, clang, ISO-8859-15 locale</td>
<td align="left">r-devel-linux-x86_64-debian-clang</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">Debian clang version 11.0.1-2</td>
<td align="left">debian-clang-devel</td>
<td align="left">linux-x86_64-debian-clang</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">debian-gcc-devel</td>
<td align="left">Debian Linux, R-devel, GCC</td>
<td align="left">r-devel-linux-x86_64-debian-gcc</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">gcc (Debian 10.2.1-6) 10.2.1 20210110</td>
<td align="left">debian-gcc-devel</td>
<td align="left">linux-x86_64-debian-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">debian-gcc-devel-nold</td>
<td align="left">Debian Linux, R-devel, GCC, no long double</td>
<td align="left">NA</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">gcc (Debian 10.2.1-6) 10.2.1 20210110</td>
<td align="left">debian-gcc-devel-nold</td>
<td align="left">linux-x86_64-debian-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">debian-gcc-patched</td>
<td align="left">Debian Linux, R-patched, GCC</td>
<td align="left">r-patched-linux-x86_64</td>
<td align="left">r-patched</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">gcc (Debian 10.2.1-6) 10.2.1 20210110</td>
<td align="left">debian-gcc-patched</td>
<td align="left">linux-x86_64-debian-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">debian-gcc-release</td>
<td align="left">Debian Linux, R-release, GCC</td>
<td align="left">r-release-linux-x86_64</td>
<td align="left">r-release</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">gcc (Debian 10.2.1-6) 10.2.1 20210110</td>
<td align="left">debian-gcc-release</td>
<td align="left">linux-x86_64-debian-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">fedora-clang-devel</td>
<td align="left">Fedora Linux, R-devel, clang, gfortran</td>
<td align="left">r-devel-linux-x86_64-fedora-clang</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Fedora 33</td>
<td align="left">clang version 11.0.0 (Fedora 11.0.0-2.fc33)</td>
<td align="left">fedora-clang-devel</td>
<td align="left">linux-x86_64-fedora-clang</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">fedora-gcc-devel</td>
<td align="left">Fedora Linux, R-devel, GCC</td>
<td align="left">r-devel-linux-x86_64-fedora-gcc</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Fedora 33</td>
<td align="left">gcc (GCC) 10.2.1 20201125 (Red Hat 10.2.1-9)</td>
<td align="left">fedora-gcc-devel</td>
<td align="left">linux-x86_64-fedora-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">linux-x86_64-rocker-gcc-san</td>
<td align="left">Debian Linux, R-devel, GCC ASAN/UBSAN</td>
<td align="left">NA</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Debian GNU/Linux testing</td>
<td align="left">GCC 5.4.0 (Debian 5.4.0-4)</td>
<td align="left">rocker-gcc-san</td>
<td align="left">linux-x86_64-debian-gcc</td>
<td align="left">Checks for compiled code</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">sanitizers</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ubuntu-gcc-devel</td>
<td align="left">Ubuntu Linux 20.04.1 LTS, R-devel, GCC</td>
<td align="left">NA</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Ubuntu 20.04.1 LTS</td>
<td align="left">gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0</td>
<td align="left">ubuntu-gcc-devel</td>
<td align="left">linux-x86_64-ubuntu-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">ubuntu-gcc-release</td>
<td align="left">Ubuntu Linux 20.04.1 LTS, R-release, GCC</td>
<td align="left">NA</td>
<td align="left">r-release</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Ubuntu 20.04.1 LTS</td>
<td align="left">gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0</td>
<td align="left">ubuntu-gcc-release</td>
<td align="left">linux-x86_64-ubuntu-gcc</td>
<td align="left">Linux</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ubuntu-rchk</td>
<td align="left">Ubuntu Linux 20.04.1 LTS, R-devel with rchk</td>
<td align="left">NA</td>
<td align="left">r-devel</td>
<td align="left">Linux</td>
<td align="left">x86_64</td>
<td align="left">Ubuntu 20.04.1 LTS</td>
<td align="left">clang version 12.0.0-3ubuntu1~20.04.5</td>
<td align="left">ubuntu-rchk</td>
<td align="left">linux-x86_64-ubuntu-gcc</td>
<td align="left">Checks for compiled code</td>
<td align="left">linux</td>
<td align="left">linux</td>
<td align="left">rchk</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
<p>Of particular interest are</p>
<ul>
<li><p>the <code>cranname</code> columns if you’re trying to find an equivalent to a CRAN platform;</p></li>
<li><p>the <code>name</code> platform which is the ID you should use to select that platform.</p></li>
</ul>
<p>In theory, you could also use images that are not listed in the list above, e.g. your own Docker images.</p>
</div>
<div class="section level2">
<h2 id="run-local-checks">Run local checks<a class="anchor" aria-label="anchor" href="#run-local-checks"></a>
</h2>
<p>Below we’ll start a check of a package on the “rhub/debian-gcc-release” image (Debian Linux, R-release, GCC). The first time you use an image on your machine, it’ll be downloaded from Docker Hub, which might take a while. The image won’t be deleted after use, so next time will be faster until you clean up your machine’s Docker images, which one should do once in a while (note that R-hub images are regularly updated).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pkg_path</span> <span class="op">&lt;-</span> <span class="st">"/home/maelle/Documents/R-hub/test-packages/note"</span></span>
<span><span class="fu"><a href="../reference/local_check_linux.html">local_check_linux</a></span><span class="op">(</span><span class="va">pkg_path</span>, image <span class="op">=</span> <span class="st">"rhub/debian-gcc-release"</span><span class="op">)</span></span></code></pre></div>
<p>You can either just run the check as shown above, which will print a log to the screen, including <code>R CMD check</code> results in the end, or assign it to an object:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pkg_path</span> <span class="op">&lt;-</span> <span class="st">"/home/maelle/Documents/R-hub/test-packages/note"</span></span>
<span><span class="va">chk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/local_check_linux.html">local_check_linux</a></span><span class="op">(</span><span class="va">pkg_path</span>, image <span class="op">=</span> <span class="st">"rhub/debian-gcc-release"</span><span class="op">)</span></span></code></pre></div>
<p>The object returned is of the class <code><a href="http://r-lib.github.io/rcmdcheck/reference/rcmdcheck.html" class="external-link">rcmdcheck::rcmdcheck</a></code> which is an S3 object with fields <code>errors</code>, <code>warnings</code> and <code>notes</code> (character vectors), that you could operate on if you wish.</p>
<p>The <code><a href="../reference/local_check_linux.html">local_check_linux()</a></code> function creates a container (instance of the image) that won’t be deleted after use so you might want to clean up once in a while.</p>
</div>
<div class="section level2">
<h2 id="do-more-with-r-hub-linux-images">Do more with R-hub Linux images<a class="anchor" aria-label="anchor" href="#do-more-with-r-hub-linux-images"></a>
</h2>
<p>If running checks in images iteratively isn’t enough for your debugging, you might want to run the container created by <code><a href="../reference/local_check_linux.html">local_check_linux()</a></code>. Take note of the container name and run (in a shell, not in R)</p>
<pre><code>docker container start 7181196d-bc3c-4fc8-a0e8-dc511150335d-2
docker exec -it 7181196d-bc3c-4fc8-a0e8-dc511150335d-2 bash</code></pre>
<p>where <code>7181196d-bc3c-4fc8-a0e8-dc511150335d-2</code> is the container name, this is printed out by <code><a href="../reference/local_check_linux.html">local_check_linux()</a></code>. After running these commands, you will get a shell within the Docker container, where you can run R. Note that on some containers R is installed in <code>/opt/</code>.</p>
<p>For more information, you may want to look at the shell script that <code>rhub</code> uses to set up the container for running the check. To find it, run the code below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"rhub"</span>, <span class="st">"bin"</span>, <span class="st">"rhub-linux-docker.sh"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "/home/runner/work/_temp/Library/rhub/bin/rhub-linux-docker.sh"</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gábor Csárdi, Maëlle Salmon, <a href="https://www.r-consortium.org/" class="external-link"><img src="https://www.r-consortium.org/wp-content/uploads/sites/13/2016/09/RConsortium_Horizontal_Pantone.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
